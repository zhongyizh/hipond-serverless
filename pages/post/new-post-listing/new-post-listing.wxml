<!--pages/post/new-post-listing/new-post-listing.wxml-->
<t-navbar left-arrow />

<t-dialog visible="{{showConditionExp}}" title="Hipond物品新旧程度评判标准" confirm-btn="{{ confirmBtn }}" bind:confirm="onConfirm" confirm-btn-disabled="{{confirmBtnDisabled}}" style="--td-button-primary-text-color	: #576B95">
  <scroll-view slot="content" type="list" scroll-y class="long-content">
    <view class="content-container">
      <view class="item"><text class="bold">New/Open-Box：</text>全新或仅开箱</view>
      <view class="item"><text class="bold">Excellent：</text>功能完好，几乎没有使用痕迹和污渍</view>
      <view class="item"><text class="bold">Very Good：</text>功能完好，有轻微使用痕迹或可以被清除的污渍</view>
      <view class="item"><text class="bold">Good：</text>功能完好，有比较明显的使用痕迹，或较难清除掉污渍，不影响使用</view>
      <view class="item"><text class="bold">Fair：</text>部分功能有故障或缺少部分部件，不影响正常使用</view>
    </view>
  </scroll-view>
</t-dialog>

<view class="upper-box">

  <input class="title-input" id="title" value="{{title}}" placeholder="标题" placeholder-class="input-placeholder" bindinput="inputText" />

  <t-textarea class="body-text-textarea" id="body" value="{{body}}" maxlength="200" placeholder="物品描述" placeholder-style="color: #9CA0A0; font-size: 26rpx;" bind:change="inputText" disableDefaultPadding="{{true}}" show-confirm-bar indicator />

  <t-upload class="upload-component" media-type="{{['image']}}" files="{{fileList}}" gridConfig="{{gridConfig}}" max="9" size-limit="{{sizeLimit}}" bind:remove="handleRemove" bind:add="handleAdd" />

  <view class="location-container">
    <view class="location-text-wrapper">
      <image wx:if="{{postLocation}}" src="/image/location_icon_light.png" class="location-icon"></image>
      <text class="location-text">{{postLocation}}</text>
    </view>
    <button class="location-button" bind:tap="chooseLocation">
      <image src="/image/location_grey.png" class="location-icon"></image>
      <text wx:if="{{postLocation}}">修改位置</text>
      <text wx:else>添加位置</text>
    </button>
  </view>
</view>

<view class="lower-box">
  <!-- <view class="listing-options-container">
    <view class="condition-dropdown" bindtap="showActionSheet">
      <view class="dropdown-label">{{condition}}</view>
    </view>

  </view> -->
  <t-action-sheet id="t-action-sheet" usingCustomNavbar bind:selected="handleSelected" />

  <t-cell class="condition-box" title="物品状态" hover note="{{condition}}" arrow bind:click="onTapCondition" />
  <view class="line-container" style="display: flex; justify-content: space-between; align-items: center; width: 100%;">
    <text class="left-text">价格</text>
    <view class="right-container">
      <text class="right-text">$</text>
      <input class="money-input" id="price" value="{{price}}" type="digit" placeholder="00.00" bindinput="inputText" style="text-align: right;"></input>
    </view>
  </view>
</view>


<view class="deliver-method-contaienr">
  <text style="margin-left: 4%;">发货方式</text>
  <t-radio-group t-class="horizontal-box" value="{{DeliverIndex}}" bind:change="onChangeDeliver">
    <view wx:for="{{['自取', '送货']}}" wx:key="index" class="card {{DeliverIndex == index ? 'card--active' : ''}}">
      <t-icon wx:if="{{DeliverIndex == index}}" name="check" t-class="card__icon" />
      <t-radio value="{{index}}" label="{{item}}" icon="none" borderless />
    </view>
  </t-radio-group>

</view>
<!-- TODO: 急售 -->
<!-- <picker class="expiration-dropdown" mode="date" value="{{ddl}}" start="{{ddl}}" end="2050-12-31" bindchange="bindDateChange" bindcancel="">
			<view class="dropdown-label">{{displayDDL}}</view>
		</picker> -->


<!-- <view class="original-price-contaienr">

    <view style="display: flex; flex-direction: row;  height: 56rpx;">
      <text style="color: #599596; font-size: 26rpx">原价</text>
      <text style="color: #BBDAD7; font-size: 26rpx">(选填)</text>
    </view>

    <view class="money-input-wrapper" style="margin-top: -4%;">
      <view class="money-sign">
        <text style="color: #00B1A2; font-size: 26rpx;">$</text>
      </view>
      <input class="money-input" id="originalPrice" value="{{originalPrice}}" placeholder="原价" bindinput="inputText">
      </input>
    </view>
  </view> -->



<button class="submit-button" bind:tap="upload">发 布</button>